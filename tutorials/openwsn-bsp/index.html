
<!DOCTYPE html>
<html lang="en-US">

<!-- Mirrored from www.iot-lab.info/tutorials/openwsn-bsp/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Jun 2020 08:21:31 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<!-- [if IE]> <meta http-equiv="X-UA-Compatible" content="IE=Edge"/> <! [endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="pingback" href="../../xmlrpc.php" />
<title>Testing Board Support Package with A8-M3 nodes &#8226; FIT/IoT-LAB</title>
<!--[if lt IE 9]><script src="https://www.iot-lab.info/wp-content/themes/alienship-1.2.5/js/html5shiv.js" type="text/javascript"></script><![endif]-->

<link rel="alternate" type="application/rss+xml" title="FIT/IoT-LAB &raquo; Feed" href="../../feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="FIT/IoT-LAB &raquo; Comments Feed" href="../../comments/feed/index.html" />
<link rel='stylesheet' id='responsive-lightbox-swipebox-front-css'  href='../../wp-content/plugins/responsive-lightbox/assets/swipebox/source/swipebox2f54.css?ver=4.1' type='text/css' media='all' />
<link rel='stylesheet' id='toc-screen-css'  href='../../wp-content/plugins/table-of-contents-plus/screen6149.css?ver=1404' type='text/css' media='all' />
<link rel='stylesheet' id='parent-style-css'  href='../../wp-content/themes/alienship-1.2.5/style2f54.css?ver=4.1' type='text/css' media='all' />
<link rel='stylesheet' id='bootstrap-css'  href='../../wp-content/themes/alienship-1.2.5/css/bootstrap.minb3e8.css?ver=0.1' type='text/css' media='all' />
<link rel='stylesheet' id='alienship-style-css'  href='../../wp-content/themes/alienship-1.2.5-child/styleb3e8.css?ver=0.1' type='text/css' media='all' />
<script type='text/javascript' src='../../wp-includes/js/jquery/jquery90f9.js?ver=1.11.1'></script>
<script type='text/javascript' src='../../wp-includes/js/jquery/jquery-migrate.min1576.js?ver=1.2.1'></script>
<script type='text/javascript' src='../../wp-content/plugins/responsive-lightbox/assets/swipebox/source/jquery.swipebox.min2f54.js?ver=4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var rlArgs = {"script":"swipebox","selector":"lightbox","custom_events":"","activeGalleries":"1","animation":"1","hideBars":"1","hideBarsDelay":"5000","videoMaxWidth":"1080"};
/* ]]> */
</script>
<script type='text/javascript' src='../../wp-content/plugins/responsive-lightbox/js/front2f54.js?ver=4.1'></script>
<script type='text/javascript' src='../../wp-content/themes/alienship-1.2.5-child/js/bootstrap-hover-dropdown.min2f54.js?ver=4.1'></script>
<link rel='canonical' href='index.html' />
        <style type="text/css" media="screen">
          div.printfriendly {
            margin: 12px 12px 12px 12px;;
          }
          div.printfriendly a, div.printfriendly a:link, div.printfriendly a:visited {
            text-decoration: none;
            font-size: 14px;
            color: #6D9F00;
            vertical-align: bottom;
            border: none;
          }

          .printfriendly a:hover {
            cursor: pointer;
          }

          .printfriendly a img  {
            border: none;
            padding:0;
            margin-right: 6px;
            display:inline-block;
            box-shadow: none;
            -webkit-box-shadow: none;
            -moz-box-shadow: none;
          }
          .printfriendly a span{
            vertical-align: bottom;
          }
          .pf-alignleft {
            float: left;
          }
          .pf-alignright {
            float: right;
          }
          div.pf-aligncenter {
            display: block;
            margin-left: auto;
            margin-right: auto;
            text-align: center;
          }
        </style>
        <style type="text/css" media="print">
          .printfriendly {
            display: none;
          }
        </style>
 	<style type="text/css">
 				#site-title,
		#site-description {
			position: absolute;
			clip: rect(1px 1px 1px 1px); /* IE6, IE7 */
			clip: rect(1px, 1px, 1px, 1px);
		}
 		 	</style>
 	
<!-- BEGIN GADWP v5.3.1.1 Universal Analytics - https://deconf.com/google-analytics-dashboard-wordpress/ -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-115966924-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- END GADWP Universal Analytics -->
</head>

<body class="page page-id-5167 page-child parent-pageid-7210 page-template page-template-templates page-template-page-full page-template-templatespage-full-php layout-default">
	<!--[if lt IE 9]><p class="browsehappy alert alert-danger">You are using an outdated browser. Please <a class="alert-link" href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p><![endif]-->

	<!-- Top Menu -->
	<nav class="navbar navbar-default navbar-onelab navbar-fixed-top top-navigation" role="navigation">
	    <div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
							<a href="../../index.html"><img src="../../wp-content/themes/alienship-1.2.5-child/templates/parts/fit-iotlab3.png" /></a>
					</div>

		<div class="collapse navbar-collapse navbar-ex1-collapse">
			<ul id="menu-topmainmenu" class="nav navbar-nav"><li id="menu-item-2066" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2066"><a title="News" href="../../news/index.html">News</a></li>
<li id="menu-item-140" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-140 dropdown"><a title="Platform" data-toggle="dropdown" data-hover="dropdown" href="../../what-is-iot-lab/index.html">Platform <span class="caret"></span></a>
<ul role="menu" class=" dropdown-menu">
	<li id="menu-item-466" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-466"><a title="What is IoT-LAB?" href="../../what-is-iot-lab/index.html">What is IoT-LAB?</a></li>
	<li id="menu-item-147" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-147"><a title="Deployment" href="../../deployment/index.html">Deployment</a></li>
	<li id="menu-item-146" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-146"><a title="Hardware" href="../../hardware/index.html">Hardware</a></li>
	<li id="menu-item-4608" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4608"><a title="Robots" href="../../robots/index.html">Robots</a></li>
	<li id="menu-item-2400" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2400"><a title="About us" href="../../about-us/index.html">About us</a></li>
</ul>
</li>
<li id="menu-item-1467" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-1467 dropdown"><a title="Dev Center" data-toggle="dropdown" data-hover="dropdown" href="../../dev-center/index.html">Dev Center <span class="caret"></span></a>
<ul role="menu" class=" dropdown-menu">
	<li id="menu-item-1957" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1957"><a title="Software Development" href="../../dev-center/index.html">Software Development</a></li>
	<li id="menu-item-7329" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor menu-item-7329"><a title="Tutorials" href="../index.html">Tutorials</a></li>
	<li id="menu-item-1552" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1552"><a title="Operating Systems" href="../../operating-systems/index.html">Operating Systems</a></li>
	<li id="menu-item-1396" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1396"><a title="Libraries" href="../../libraries/index.html">Libraries</a></li>
	<li id="menu-item-1394" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1394"><a title="Drivers" href="../../drivers/index.html">Drivers</a></li>
	<li id="menu-item-7372" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7372"><a title="REST API documentation" href="http://api.iot-lab.info/">REST API documentation</a></li>
</ul>
</li>
<li id="menu-item-3209" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-3209 dropdown"><a title="Community" data-toggle="dropdown" data-hover="dropdown" href="../../community/index.html">Community <span class="caret"></span></a>
<ul role="menu" class=" dropdown-menu">
	<li id="menu-item-3244" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3244"><a title="Share your experience" href="../../community/index.html">Share your experience</a></li>
	<li id="menu-item-3210" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3210"><a title="Education" href="../../education/index.html">Education</a></li>
	<li id="menu-item-2133" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2133"><a title="Publications" href="../../publications/index.html">Publications</a></li>
	<li id="menu-item-2405" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2405"><a title="Charter" href="../../charter/index.html">Charter</a></li>
</ul>
</li>
<li id="menu-item-1470" class="get_started menu-item menu-item-type-post_type menu-item-object-page menu-item-1470"><a title="Get Started" href="../../get_started/index.html">Get Started</a></li>
</ul>

			<ul class="nav navbar-nav navbar-right">

				<li class="dropdown">
					<a href="../../testbed/drawgantt.html" title="Testbed activity"><span class="glyphicon glyphicon-calendar"></span> Activity</a>
				</li>



			                        	<li><span><a href="../../testbed/index.html" class="btn btn-primary testbed" title="Login">Access the testbed</a></span></li>
			                        </ul>
		</div>
	    </div>
	</nav>
<!-- End Top Menu -->


	<div id="page" class="container hfeed site">

				<header id="masthead" class="site-header" role="banner">
			<p id="site-title" class="site-title"><a href="../../index.html" title="FIT/IoT-LAB" rel="home">FIT/IoT-LAB</a></p><p id="site-description" class="site-description">Very large scale open wireless sensor network testbed</p>		</header><!-- #masthead -->
			<div id="content" class="site-content row">

		<div id="primary" class="col-sm-12">

				<main id="main" class="site-main" role="main">

		<article role="article" id="post-5167" class="post-5167 page type-page status-publish hentry">
		<div class="entry-content">
		<div class="pf-content"><h2>Testing Board Support Package with A8-M3 nodes</h2>
<p>&nbsp;</p>
<p><img class="alignnone size-full wp-image-1252" src="../../wp-content/uploads/2014/02/difficulty.jpg" alt="" width="30" height="30" /> <strong>Difficulty</strong>: Medium</p>
<p><img class="size-full wp-image-1253 alignnone" src="../../wp-content/uploads/2014/02/duration.jpg" alt="" width="30" height="30" /> <strong>Duration</strong>: 30 minutes</p>
<p>&nbsp;</p>
<p><em><strong>Prerequisites</strong>: <a title="Configure your SSH access" href="../ssh-access/index.html" target="_blank">Configure SSH Access</a> / </em><a title="Submit an experiment with A8 nodes using the web portal" href="../submit-experiment-a8-web/index.html">Submit an experiment with A8 nodes using the web portal</a></p>
<p style="text-align: left;"><em><strong>Description</strong>: The aim of this first tutorial is to discover the OpenWSN port for IoT-LAB nodes. You will submit an experiment and book two A8 nodes on the Grenoble site. Once deployed, you will test board support package (BSP) with serial port and radio communication and print </em>EUI64 nodes unique identifier.</p>
<ol>
<li><a href="../../testbed/index.html" target="_blank">Log into the Webportal</a></li>
<li>Select the tab &#8220;New Experiment&#8221;</li>
<li>Configure schedule
<ul>
<li>Set an <strong>experiment name</strong> (no spaces nor funny chars in the experiment name)</li>
<li>Set a <strong>duration</strong> (e.g. 60 minutes)</li>
<li>Select &#8220;<strong>As soon as possible</strong>&#8221; = as soon as the nodes are available (the testbed scheduler takes the lead &#8230;)</li>
</ul>
</li>
<li>Select nodes
<ul>
<li>Architecture = <strong>a8 (at86rf231)</strong> / Site = <strong>grenoble</strong> / Number = <strong>2</strong></li>
<li>Click on &#8220;Add to experiment&#8221;</li>
</ul>
</li>
<li>Submit and get an experiment id</li>
<li>From the Dashboard, select your experiment in the table and write down the hostnames of your nodes in the Node Column.For this tutorial we assume that you have the following A8 nodes : <strong>a8-7.grenoble.iot-lab.info</strong> and <strong>a8-8.grenoble.iot-lab.info</strong></li>
<li>Connect to the SSH frontend site
<pre class="code bash">my_computer$ <strong>ssh &lt;login&gt;@grenoble.iot-lab.info</strong></pre>
</li>
<li>Download all openwsn tutorial firmwares and script. They must be placed in the A8 directory of your home directory (<strong><code>~/A8/)</code></strong>on the IoT-LAB frontend, this directory is automatically accessible from all A8 nodes of your experiment.
<pre class="code bash">&lt;login&gt;@grenoble:~$ <strong>cd A8</strong>
&lt;login&gt;@grenoble:<strong>~/A8</strong>$ for name in 01bsp_uart_prog 01bsp_radio_tx_prog 01bsp_radio_rx_prog 01bsp_radio_rx.py 01bsp_eui64_prog; do wget https://raw.githubusercontent.com/wiki/iot-lab/iot-lab/firmwares/openwsn/$name; done
&lt;login&gt;@grenoble:<strong>~/A8</strong>$ <strong>ls</strong>
01bsp_eui64_prog     01bsp_radio_rx.py    01bsp_uart_prog
01bsp_radio_rx_prog  01bsp_radio_tx_prog
</pre>
</li>
<li><strong>Note:</strong> When your experiment is Started, A8 nodes still needs some time to boot, it may take from 1 to 5 minutes depending on the platform activity. So be patient.
<pre>&lt;login&gt;@grenoble:~$ <strong>ping node-a8-7</strong>
PING node-a8-7.grenoble.iot-lab.info (10.0.12.7) 56(84) bytes of data.
64 bytes from node-a8-7.grenoble.iot-lab.info (10.0.12.7): icmp_req=1 ttl=64 time=26.0 ms
&lt;login&gt;@grenoble:~$ <strong>ssh root@node-a8-7</strong>
ssh: connect to host node-a8-7.grenoble.iot-lab.info port 22: Connection refused</pre>
</li>
<li>SSH connect as <strong>root</strong> to one of your A8 board, the url is &#8216;<strong><code>node-a8-&lt;num&gt;</code></strong>&#8216;
<pre class="code bash">&lt;login&gt;@grenoble:~$ <strong>ssh root@node-a8-7</strong>
root@node-a8-7:~#</pre>
</li>
<li>You can check that the firmware is indeed present in the A8 folder.
<pre class="code bash">root@node-a8-7:~# <strong>ls A8</strong>
01bsp_uart_prog</pre>
</li>
<li>In this tutorial we will use the M3 subsystem of the A8 node in order to use serial port communication. When your experiment start, the M3 subsystem of your A8 node doesn&#8217;t run any firmware, so we need to flash openwsn bsp uart firmware
<pre class="code bash">root@node-a8-7:~# <strong>flash_a8_m3 A8/01bsp_uart_prog</strong> 
Open On-Chip Debugger 0.7.0 (2014-10-16-11:55)
Licensed under GNU GPL v2
...
<strong>Return Value: 0</strong>
root@node-a8-7:~#</pre>
</li>
<li>Each A8 communicate with its M3 subsystem through a serial link named /dev/ttyA8_M3 (speed 500 kB/s). The firmware we flashed on the M3 in the previous step should print &#8220;Hello, World!&#8221; message and when you enter character echoes it back.
<pre class="code bash">root@node-a8-7:~/A8# <strong>socat  open:/dev/ttyA8_M3,b500000,echo=0,raw -</strong>
Hello, World!
Hello, World!
iotlab
iotlab
Hello, World!
</pre>
</li>
<li>Now we will test radio communication and use two A8 nodes with M3 802.15.4 radio subsystem. One of them will run the <strong>TX (a8-7),</strong> and the other will run the <strong>RX (a8-8)</strong> . Each 500ms, the TX sends a packet in the air. The RX listens to these packets and write in its serial port the <strong>length</strong>, <strong>number, RSSI, LQI and CRC of each packet. </strong>We flash the corresponding firmware and you must open a new terminal with a8-8 node prompt.
<pre class="code bash">root@node-a8-7:~# <strong>flash_a8_m3 A8/01bsp_radio_tx_prog</strong>
</pre>
<pre class="code bash">my_computer$ <strong>ssh &lt;login&gt;@grenoble.iot-lab.info</strong>
&lt;login&gt;@grenoble:~$ <strong>ssh root@node-a8-8</strong>
root@node-a8-8:~# <strong>flash_a8_m3 A8/01bsp_radio_rx_prog
</strong>root@node-a8-8:~#<strong> <strong>python A8/01bsp_radio_rx.py</strong>
</strong>___                 _ _ _  ___  _ _ 
| . | ___  ___ ._ _ | | | |/ __&gt;| \ |
| | || . \/ ._&gt;| ' || | | |\__ \|   |
`___'|  _/\___.|_|_||__/_/ &lt;___/|_\_|
     |_|                  openwsn.org

Are you running on IoT-LAB nodes ? (Y|N): Y
Enter mote name ? (e.g. wsn430-35): a8-8
len=127 num=85 rssi=-49 lqi=1 crc=1
len=127 num=86 rssi=-49 lqi=1 crc=1
len=127 num=87 rssi=-49 lqi=1 crc=1
len=127 num=88 rssi=-49 lqi=1 crc=1
len=127 num=89 rssi=-49 lqi=1 crc=1
len=127 num=90 rssi=-49 lqi=1 crc=1
len=127 num=91 rssi=-49 lqi=1 crc=1
</pre>
</li>
<li>For finishing the tutorial we will print node EUI64 unique identifier on the serial port. You can find an explanation of EUI64  numbering convention <a href="https://openwsn.atlassian.net/wiki/display/OW/EUI64+Numbering+Convention">here</a>.
<pre class="code bash">root@node-a8-7:~# <strong>flash_a8_m3 A8/01bsp_eui64_prog</strong>
root@node-a8-7:~# socat  open:/dev/ttyA8_M3,b500000,echo=0,raw -
05-43-32-ff-03-db-b9-59
05-43-32-ff-03-db-b9-59
...
05-43-32-ff-03-d4-96-51
</pre>
</li>
</ol>
<p>&nbsp;</p>
<p>Congratulations, you finished the first OpenWSN tutorial !</p>
</div>	</div><!-- .entry-content -->
	
</article><!-- #post-5167 -->


			
		</main><!-- #main -->
		
	</div><!-- #primary -->

	</div><!-- #content -->
	
</div><!-- #page -->

<footer class="site-footer" id="colophon" role="contentinfo">
	
	<div class="container">
		<div class="row">

			<div class="bottom-navigation col-sm-6 col-sm-push-6">
							</div><!-- .bottom-navigation -->
                </div><!-- .row -->

		<div class="row">
			<div class="footer-text col-sm-9">
				<a href="../../what-is-iot-lab/index.html">WHAT IS IOT-LAB?</a> <a href="../../about-us/index.html">ABOUT US</a> <a href="mailto:admin@iot-lab.info">CONTACT US</a> <a href="https://github.com/iot-lab/iot-lab/issues" target="_blank">SUPPORT</a> -<a href="https://github.com/iot-lab">GitHub</a>/<a href="https://twitter.com/FIT_IoTLAB">Twitter</a>/<a href="https://www.youtube.com/channel/UCrWBoYgLJCkMWgaJF8Hh3Og">Youtube</a>-   Copyright © FIT IoT-LAB			</div><!-- .footer-text -->
			<div class="col-sm-3">
				<a href="http://fit-equipex.fr/"><img class="fit-logo center-block" src="../../wp-content/themes/alienship-1.2.5-child/templates/parts/fit-white.svg"></a>
			</div>

		</div><!-- .row -->
	</div><!-- .container -->

	</footer><!-- #colophon -->
      <script type="text/javascript">
		
          var pfHeaderImgUrl = '';
          var pfHeaderTagline = '';
          var pfdisableClickToDel = '0';
          var pfHideImages = '0';
          var pfImageDisplayStyle = 'right';
          var pfDisableEmail = '0';
          var pfDisablePDF = '0';
          var pfDisablePrint = '0';
          var pfCustomCSS = '';
		  (function() {
            var e = document.createElement('script'); e.type="text/javascript";
		    if('https:' == document.location.protocol) {
			  js='https://pf-cdn.printfriendly.com/ssl/main.js';
		    }
		    else{
			  js='http://cdn.printfriendly.com/printfriendly.js';
		    }
            e.src = js;
            document.getElementsByTagName('head')[0].appendChild(e);
	  	  })();
      </script>
<script type='text/javascript'>
/* <![CDATA[ */
var tocplus = {"smooth_scroll":"1","visibility_show":"show","visibility_hide":"hide","width":"Auto"};
/* ]]> */
</script>
<script type='text/javascript' src='../../wp-content/plugins/table-of-contents-plus/front6149.js?ver=1404'></script>
<script type='text/javascript' src='../../wp-content/themes/alienship-1.2.5/js/bootstrap.minb12b.js?ver=3.1.1'></script>
<script type='text/javascript' src='../../wp-content/themes/alienship-1.2.5/js/alienship-helper8a54.js?ver=1.0.0'></script>

</body>

<!-- Mirrored from www.iot-lab.info/tutorials/openwsn-bsp/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Jun 2020 08:21:32 GMT -->
</html>