
<!DOCTYPE html>
<html lang="en-US">

<!-- Mirrored from www.iot-lab.info/tutorials/ssh-clitools-client/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Jun 2020 08:21:34 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<!-- [if IE]> <meta http-equiv="X-UA-Compatible" content="IE=Edge"/> <! [endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="pingback" href="../../xmlrpc.php" />
<title>SSH CLI Client &#8226; FIT/IoT-LAB</title>
<!--[if lt IE 9]><script src="https://www.iot-lab.info/wp-content/themes/alienship-1.2.5/js/html5shiv.js" type="text/javascript"></script><![endif]-->

<link rel="alternate" type="application/rss+xml" title="FIT/IoT-LAB &raquo; Feed" href="../../feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="FIT/IoT-LAB &raquo; Comments Feed" href="../../comments/feed/index.html" />
<link rel='stylesheet' id='responsive-lightbox-swipebox-front-css'  href='../../wp-content/plugins/responsive-lightbox/assets/swipebox/source/swipebox2f54.css?ver=4.1' type='text/css' media='all' />
<link rel='stylesheet' id='toc-screen-css'  href='../../wp-content/plugins/table-of-contents-plus/screen6149.css?ver=1404' type='text/css' media='all' />
<link rel='stylesheet' id='parent-style-css'  href='../../wp-content/themes/alienship-1.2.5/style2f54.css?ver=4.1' type='text/css' media='all' />
<link rel='stylesheet' id='bootstrap-css'  href='../../wp-content/themes/alienship-1.2.5/css/bootstrap.minb3e8.css?ver=0.1' type='text/css' media='all' />
<link rel='stylesheet' id='alienship-style-css'  href='../../wp-content/themes/alienship-1.2.5-child/styleb3e8.css?ver=0.1' type='text/css' media='all' />
<script type='text/javascript' src='../../wp-includes/js/jquery/jquery90f9.js?ver=1.11.1'></script>
<script type='text/javascript' src='../../wp-includes/js/jquery/jquery-migrate.min1576.js?ver=1.2.1'></script>
<script type='text/javascript' src='../../wp-content/plugins/responsive-lightbox/assets/swipebox/source/jquery.swipebox.min2f54.js?ver=4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var rlArgs = {"script":"swipebox","selector":"lightbox","custom_events":"","activeGalleries":"1","animation":"1","hideBars":"1","hideBarsDelay":"5000","videoMaxWidth":"1080"};
/* ]]> */
</script>
<script type='text/javascript' src='../../wp-content/plugins/responsive-lightbox/js/front2f54.js?ver=4.1'></script>
<script type='text/javascript' src='../../wp-content/themes/alienship-1.2.5-child/js/bootstrap-hover-dropdown.min2f54.js?ver=4.1'></script>
<link rel='canonical' href='index.html' />
        <style type="text/css" media="screen">
          div.printfriendly {
            margin: 12px 12px 12px 12px;;
          }
          div.printfriendly a, div.printfriendly a:link, div.printfriendly a:visited {
            text-decoration: none;
            font-size: 14px;
            color: #6D9F00;
            vertical-align: bottom;
            border: none;
          }

          .printfriendly a:hover {
            cursor: pointer;
          }

          .printfriendly a img  {
            border: none;
            padding:0;
            margin-right: 6px;
            display:inline-block;
            box-shadow: none;
            -webkit-box-shadow: none;
            -moz-box-shadow: none;
          }
          .printfriendly a span{
            vertical-align: bottom;
          }
          .pf-alignleft {
            float: left;
          }
          .pf-alignright {
            float: right;
          }
          div.pf-aligncenter {
            display: block;
            margin-left: auto;
            margin-right: auto;
            text-align: center;
          }
        </style>
        <style type="text/css" media="print">
          .printfriendly {
            display: none;
          }
        </style>
 	<style type="text/css">
 				#site-title,
		#site-description {
			position: absolute;
			clip: rect(1px 1px 1px 1px); /* IE6, IE7 */
			clip: rect(1px, 1px, 1px, 1px);
		}
 		 	</style>
 	
<!-- BEGIN GADWP v5.3.1.1 Universal Analytics - https://deconf.com/google-analytics-dashboard-wordpress/ -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-115966924-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- END GADWP Universal Analytics -->
</head>

<body class="page page-id-6780 page-child parent-pageid-7210 page-template-default layout-1c">
	<!--[if lt IE 9]><p class="browsehappy alert alert-danger">You are using an outdated browser. Please <a class="alert-link" href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p><![endif]-->

	<!-- Top Menu -->
	<nav class="navbar navbar-default navbar-onelab navbar-fixed-top top-navigation" role="navigation">
	    <div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
							<a href="../../index.html"><img src="../../wp-content/themes/alienship-1.2.5-child/templates/parts/fit-iotlab3.png" /></a>
					</div>

		<div class="collapse navbar-collapse navbar-ex1-collapse">
			<ul id="menu-topmainmenu" class="nav navbar-nav"><li id="menu-item-2066" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2066"><a title="News" href="../../news/index.html">News</a></li>
<li id="menu-item-140" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-140 dropdown"><a title="Platform" data-toggle="dropdown" data-hover="dropdown" href="../../what-is-iot-lab/index.html">Platform <span class="caret"></span></a>
<ul role="menu" class=" dropdown-menu">
	<li id="menu-item-466" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-466"><a title="What is IoT-LAB?" href="../../what-is-iot-lab/index.html">What is IoT-LAB?</a></li>
	<li id="menu-item-147" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-147"><a title="Deployment" href="../../deployment/index.html">Deployment</a></li>
	<li id="menu-item-146" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-146"><a title="Hardware" href="../../hardware/index.html">Hardware</a></li>
	<li id="menu-item-4608" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4608"><a title="Robots" href="../../robots/index.html">Robots</a></li>
	<li id="menu-item-2400" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2400"><a title="About us" href="../../about-us/index.html">About us</a></li>
</ul>
</li>
<li id="menu-item-1467" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-1467 dropdown"><a title="Dev Center" data-toggle="dropdown" data-hover="dropdown" href="../../dev-center/index.html">Dev Center <span class="caret"></span></a>
<ul role="menu" class=" dropdown-menu">
	<li id="menu-item-1957" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1957"><a title="Software Development" href="../../dev-center/index.html">Software Development</a></li>
	<li id="menu-item-7329" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor menu-item-7329"><a title="Tutorials" href="../index.html">Tutorials</a></li>
	<li id="menu-item-1552" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1552"><a title="Operating Systems" href="../../operating-systems/index.html">Operating Systems</a></li>
	<li id="menu-item-1396" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1396"><a title="Libraries" href="../../libraries/index.html">Libraries</a></li>
	<li id="menu-item-1394" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1394"><a title="Drivers" href="../../drivers/index.html">Drivers</a></li>
	<li id="menu-item-7372" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7372"><a title="REST API documentation" href="http://api.iot-lab.info/">REST API documentation</a></li>
</ul>
</li>
<li id="menu-item-3209" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-3209 dropdown"><a title="Community" data-toggle="dropdown" data-hover="dropdown" href="../../community/index.html">Community <span class="caret"></span></a>
<ul role="menu" class=" dropdown-menu">
	<li id="menu-item-3244" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3244"><a title="Share your experience" href="../../community/index.html">Share your experience</a></li>
	<li id="menu-item-3210" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3210"><a title="Education" href="../../education/index.html">Education</a></li>
	<li id="menu-item-2133" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2133"><a title="Publications" href="../../publications/index.html">Publications</a></li>
	<li id="menu-item-2405" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2405"><a title="Charter" href="../../charter/index.html">Charter</a></li>
</ul>
</li>
<li id="menu-item-1470" class="get_started menu-item menu-item-type-post_type menu-item-object-page menu-item-1470"><a title="Get Started" href="../../get_started/index.html">Get Started</a></li>
</ul>

			<ul class="nav navbar-nav navbar-right">

				<li class="dropdown">
					<a href="../../testbed/drawgantt.html" title="Testbed activity"><span class="glyphicon glyphicon-calendar"></span> Activity</a>
				</li>



			                        	<li><span><a href="../../testbed/index.html" class="btn btn-primary testbed" title="Login">Access the testbed</a></span></li>
			                        </ul>
		</div>
	    </div>
	</nav>
<!-- End Top Menu -->


	<div id="page" class="container hfeed site">

				<header id="masthead" class="site-header" role="banner">
			<p id="site-title" class="site-title"><a href="../../index.html" title="FIT/IoT-LAB" rel="home">FIT/IoT-LAB</a></p><p id="site-description" class="site-description">Very large scale open wireless sensor network testbed</p>		</header><!-- #masthead -->
			<div id="content" class="site-content row">

	
	<div id="primary" class="content-area col-sm-8">

				<main id="main" class="site-main" role="main">

			<article role="article" id="post-6780" class="post-6780 page type-page status-publish hentry">
		<div class="entry-content">
		<div class="pf-content"><h2>SSH CLI Client</h2>
<p>&nbsp;</p>
<p><img class="alignnone size-full wp-image-1252" src="../../wp-content/uploads/2014/02/difficulty.jpg" alt="" width="30" height="30" /> <strong>Level</strong>: Medium</p>
<p><img class="size-full wp-image-1253 alignnone" src="../../wp-content/uploads/2014/02/duration.jpg" alt="" width="30" height="30" /> <strong>Duration</strong>: 45 minutes</p>
<p><em><strong>Prerequisites</strong>: <a title="Configure your SSH access" href="../ssh-access/index.html" target="_blank">Configure SSH Access</a> / <a title="Submit an experiment with A8 nodes and the web portal" href="../submit-experiment-a8-web/index.html">Submit an Experiment with A8 nodes </a>/ </em><em><a title="Experiment CLI client" href="../iotlab-experimenttools-client/index.html" target="_blank">Experiment CLI client</a></em></p>
<p><em><strong>Description</strong>: The goal of this tutorial is to show how to use the SSH CLI Client on the frontend SSH. This client provides a set of commands for interacting remotely and easily with IoT-Lab Open A8 nodes. You will learn how to submit an experiment with A8 nodes on the Saclay site, wait for the Linux kernel boot. After you will see how to flash a tutorial firmware on the A8-M3 nodes, run commands and execute a script in background mode.</em></p>
<div class="alert alert-info">The <code>ssh-cli-tools</code> is a python SSH client for IoT-LAB A8 nodes. Of course you can install it directly on your computer and follow the tutorial in the same way. You can find information about it on the corresponding <a href="https://github.com/iot-lab/ssh-cli-tools">IoT-LAB GitHub repository</a></div>
<ol>
<li>Connect to Saclay site SSH frontend
<pre><strong>my_computer$ ssh &lt;login&gt;@saclay.iot-lab.info</strong></pre>
<p><strong>Note:</strong> if you did not already authenticate using <em>iotlab-auth</em>, do it now:</p>
<pre><strong>&lt;login&gt;@saclay:~$ </strong><strong>iotlab-auth -u &lt;login&gt;</strong></pre>
</li>
<li><strong>BEFORE</strong> <strong>any experiment submission</strong>, add the ssh public key of your local user on the ssh frontend to your global User profile. You can get this key as below and follow<a title="Configure your SSH access" href="../ssh-access/index.html"> this tutorial</a>.
<pre><strong>&lt;login&gt;@saclay:~$ cat ~/.ssh/id_rsa.pub</strong></pre>
</li>
<li>Start an experiment with 2 A8 nodes (eg. dynamical nodes allocation by the scheduler)
<pre><strong>&lt;login&gt;@saclay:~$ iotlab-experiment submit -d 60 -l 2,archi=a8:at86rf231+site=saclay</strong></pre>
<p><strong>Note:</strong> Remember the experiment identifier returned by the last command. It&#8217;ll be used in the commands shown below, <code>&lt;exp_id&gt;</code>. The requested experiment duration is 60 minutes.</li>
<li>Wait a moment until the experiment is launched and get the A8 nodes list. For the next of this tutorial we suppose that we obtain <strong>a8-1.saclay.iot-lab.info</strong> and <strong>a8-2.saclay.iot-lab.info </strong>nodes.
<pre><strong> &lt;login&gt;@saclay:~$ iotlab-experiment wait</strong>
 Waiting that experiment &lt;exp_id&gt; gets in state Running
 "Running"
<strong> &lt;login&gt;@saclay:~$ iotlab-experiment get -p
</strong>{
  "deploymentresults":   { "0": [ "a8-1.saclay.iot-lab.info", 
                                  "a8-2.saclay.iot-lab.info"
                                ]
                          }, 
  "duration": 60, 
  "nodes": [ "a8-1.saclay.iot-lab.info", 
             "a8-2.saclay.iot-lab.info"
           ], 
  "state": "Running", 
  "type": "physical"
}
</pre>
<p><strong>Note:</strong> <em>deploymentresults</em> attribute in the JSON is the result of the submit experiment request on the IoT-LAB A8 nodes. It informs you that the A8 node has well-received the start Linux booting operation. After you must verify that the A8 node has booted correctly and was reachable with the next step 5 and SSH CLI client wait-for-boot command.</li>
<li>Verify that the <strong>Linux system is booting on A8 nodes</strong> and if they are reachable by SSH. By default this command is waiting with a default timeout of 120 seconds and you can modify this value with the command-line option &#8211;max-wait.
<pre><strong>&lt;login&gt;@saclay:~$ iotlab-ssh wait-for-boot</strong>
{
  "wait-for-boot": { "0": [ "node-a8-1.saclay.iot-lab.info", 
                            "node-a8-2.saclay.iot-lab.info"
                          ]
                   }
}</pre>
<p><strong>Note</strong>: you can test manually that the A8 node is reachable with this command</p>
<pre><strong>&lt;login&gt;@saclay:~$ ssh root@node-a8-1</strong>
<strong>root@node-a8-1:~# uname -a</strong>
Linux node-a8-1 3.18.5-iotlab+ #2 Tue Feb 3 15:01:11 CET 2015 armv7l GNU/Linux</pre>
</li>
<li>Flash the tutorial firmware on the A8-M3 nodes.
<pre><strong>&lt;login&gt;@saclay:~$ wget https://raw.githubusercontent.com/wiki/iot-lab/iot-lab/firmwares/tutorial_a8_m3.elf -O tutorial_a8_m3.elf
&lt;login&gt;@saclay:~$ iotlab-ssh flash-m3 tutorial_a8_m3.elf</strong>
{
  "flash-m3": { "0": [ "node-a8-1.saclay.iot-lab.info", 
                       "node-a8-2.saclay.iot-lab.info"
                     ]
              }
}</pre>
<p>If you want to visualize the standard output (eg. stdout) of the command on the A8 nodes you can use the command-line option &#8211;verbose</p>
<pre><strong> &lt;login&gt;@saclay:~$ iotlab-ssh --verbose flash-m3 tutorial_a8_m3.elf</strong></pre>
<p>You can also specify a list of nodes as below where you want to run the command. By default we execute the command on all A8 experiment nodes.</p>
<pre><strong>&lt;login&gt;@saclay:~$ iotlab-ssh flash-m3 tutorial_a8_m3.elf -l saclay,a8,1
&lt;login&gt;@saclay:~$ iotlab-ssh flash-m3 tutorial_a8_m3.elf -e saclay,a8,2</strong></pre>
<p>Verify on A8 node that you can read the A8_M3 node serial link and view tutorial firmware prompt</p>
<pre><strong>&lt;login&gt;@saclay:~$ ssh root@node-a8-1</strong>
root@node-a8-1:~# miniterm.py --echo /dev/ttyA8_M3 500000
--- Miniterm on /dev/ttyA8_M3: 500000,8,N,1 ---
--- Quit: Ctrl+] | Menu: Ctrl+T | Help: Ctrl+T followed by Ctrl+H ---


IoT-LAB Simple Demo program
Type command
 h: print this help
 u: print node uid
 d: read current date using control_node
 s: send a radio packet
 b: send a big radio packet
 e: toggle leds blinking

 Type Enter to stop printing this help

cmd &gt;</pre>
<p><strong>Note</strong>: the command-line flash-m3 option takes place in two stages. Firstly we copy the firmware binary file in the A8 directory of your home directory on the frontend SSH. This directory is mounting (eg. NFS) by all A8 experiment nodes. After we launch flash_a8_m3 command with the corresponding firmware on the A8 nodes.</p>
<pre><strong> &lt;login&gt;@saclay:~$ ls A8/.iotlabsshcli/tutorial_a8_m3.elf</strong></pre>
</li>
<li>Reset the A8-M3 nodes
<pre><strong>&lt;login&gt;@saclay:~$ iotlab-ssh reset-m3</strong>
{ 
  "reset-m3": { "0": [ "node-a8-1.saclay.iot-lab.info",
                       "node-a8-2.saclay.iot-lab.info"
                     ]
              }
}</pre>
</li>
<li>You can also run a command (eg. Linux uptime command ) on A8 nodes.
<pre><strong>&lt;login&gt;@saclay:~$ iotlab-ssh --verbose run-cmd uptime</strong>
Connecting via SSH proxy saclay.iot-lab.info:22 -&gt; node-a8-1.saclay.iot-lab.info:22
Connecting via SSH proxy saclay.iot-lab.info:22 -&gt; node-a8-2.saclay.iot-lab.info:22
[node-a8-1.saclay.iot-lab.info] 11:14am up 0:00, 1 user, load average: 0.16, 0.06, 0.02
[node-a8-2.saclay.iot-lab.info] 11:14am up 0:00, 1 user, load average: 0.51, 0.16, 0.06
{
 "run-cmd": { "0": [ "node-a8-1.saclay.iot-lab.info", 
                     "node-a8-2.saclay.iot-lab.info"
                   ]
            }
}</pre>
</li>
<li>Launch the A8-M3 nodes serial link redirection. After you can access directly (eg. netcat command) from the frontend SSH the serial link without A8 nodes SSH access.
<pre><strong>&lt;login&gt;@saclay:~$ iotlab-ssh --verbose run-cmd "nohup /etc/init.d/serial_redirection start &gt;/dev/null 2&gt;&amp;1"
</strong>Connecting via SSH proxy saclay.iot-lab.info:22 -&gt; node-a8-1.saclay.iot-lab.info:22
Connecting via SSH proxy saclay.iot-lab.info:22 -&gt; node-a8-2.saclay.iot-lab.info:22
[node-a8-1.saclay.iot-lab.info] Starting serial_redirection /dev/ttyA8_M3:20000 0
[node-a8-2.saclay.iot-lab.info] Starting serial_redirection /dev/ttyA8_M3:20000 0
{
 "run-cmd": { "0": [ "node-a8-2.saclay.iot-lab.info", 
                     "node-a8-3.saclay.iot-lab.info"
                   ]
            }
}
<strong>&lt;login&gt;@saclay:~$ nc node-a8-2 20000
</strong></pre>
</li>
<li>Print the A8 nodes IPv6 configuration
<pre><strong>&lt;login&gt;@saclay:~$ </strong><strong>iotlab-ssh --verbose run-cmd "source /var/local/config/ipv6; printenv"</strong>
Connecting via SSH proxy saclay.iot-lab.info:22 -&gt; node-a8-2.saclay.iot-lab.info:22
Connecting via SSH proxy saclay.iot-lab.info:22 -&gt; node-a8-1.saclay.iot-lab.info:22
[node-a8-1.saclay.iot-lab.info] INET6_PREFIX_LEN=64
[node-a8-1.saclay.iot-lab.info] INET6_PREFIX=2001:0660:3207:403
[node-a8-1.saclay.iot-lab.info] GATEWAY6_ADDR=2001:0660:3207:0400:ff::
[node-a8-1.saclay.iot-lab.info] INET6_ADDR=2001:0660:3207:0400::3/64
...
[node-a8-2.saclay.iot-lab.info] INET6_PREFIX_LEN=64
[node-a8-2.saclay.iot-lab.info] INET6_PREFIX=2001:0660:3207:402
[node-a8-2.saclay.iot-lab.info] GATEWAY6_ADDR=2001:0660:3207:0400:ff::
[node-a8-2.saclay.iot-lab.info] INET6_ADDR=2001:0660:3207:0400::2/64
{
 "run-cmd": { "0": [ "node-a8-2.saclay.iot-lab.info", 
                     "node-a8-1.saclay.iot-lab.info"
                   ]
            }
}</pre>
</li>
<li>Install an ipk package on A8 nodes. Firstly you copy the package on the frontend SSH (eg. A8 directory) and after launch the package installation command on only one node. Indeed all A8 experiment nodes shared filesystem parts (eg. NFS filesystem) and it&#8217;s the case of <a href="https://wiki.openwrt.org/doc/techref/opkg">opkg package manager</a>. So when you install a package on one A8 node you can use it on all experiment nodes.
<pre><strong>
&lt;login&gt;@saclay:~$ wget https://raw.githubusercontent.com/wiki/iot-lab/iot-lab/packages/iperf_2.0.5-r0_cortexa8hf-neon.ipk -O iperf_2.0.5-r0_cortexa8hf-neon.ipk
&lt;login&gt;@saclay:~$ iotlab-ssh --verbose copy-file iperf_2.0.5-r0_cortexa8hf-neon.ipk</strong> 
{
 "copy-file": { "0": [ "saclay.iot-lab.info"
                     ]
              }
}

<strong>&lt;login&gt;@saclay:~$ iotlab-ssh --verbose run-cmd "opkg install ~/A8/.iotlabsshcli/iperf_2.0.5-r0_cortexa8hf-neon.ipk" -l saclay,a8,2</strong>
Connecting via SSH proxy saclay.iot-lab.info:22 -&gt; node-a8-2.saclay.iot-lab.info:22
[node-a8-2.saclay.iot-lab.info]	Installing iperf (2.0.5-r0) to root...
[node-a8-2.saclay.iot-lab.info]	Configuring iperf.
{
    "run-cmd": { "0": [ "node-a8-2.saclay.iot-lab.info"
                      ]
               }
}
<strong>
&lt;login&gt;@saclay:~$ ssh root@node-a8-1
</strong><strong>root@node-a8-1:~# iperf --help</strong></pre>
<p><strong>Note1:</strong> We have deployed a <strong>Beta Yocto Linux distribution on Saclay site</strong>. If you use another IoT-LAB site and play this tutorial you must replace iperf_2.0.5-r0_cortexa8hf-neon.ipk with the old corresponding name iperf_2.0.5-r0_armv7a-vfp-neon.ipk.</p>
<p>Note2: Be careful if you want to manage a daemon with init scripts you must install your script on all experiment nodes.</li>
<li>Run a script in background (eg. screen session) on A8 nodes. Edit a python script file test_run_script.py as follows
<pre><strong>&lt;login&gt;@saclay:~$ cat test_run_script.py
</strong>#!/usr/bin/env python
import time

def main():
    while True:
        print("Test iotlab-ssh run-script")
        time.sleep(2)

if __name__ == '__main__':
    main()</pre>
<pre><strong>&lt;login&gt;@saclay:~$ iotlab-ssh --verbose run-script test_run_script.py</strong> 
Connecting via SSH proxy saclay.iot-lab.info:22 -&gt; node-a8-2.saclay.iot-lab.info:22
Connecting via SSH proxy saclay.iot-lab.info:22 -&gt; node-a8-1.saclay.iot-lab.info:22
[node-a8-2.saclay.iot-lab.info] No screen session found.
[node-a8-1.saclay.iot-lab.info] No screen session found.
Connecting via SSH proxy saclay.iot-lab.info:22 -&gt; node-a8-2.saclay.iot-lab.info:22
Connecting via SSH proxy saclay.iot-lab.info:22 -&gt; node-a8-1.saclay.iot-lab.info:22
{
 "run-script": { "0": [ "node-a8-1.saclay.iot-lab.info", 
                        "node-a8-2.saclay.iot-lab.info"
                      ]
               }
}
<strong>&lt;login&gt;@saclay:~$ ssh root@node-a8-1</strong>
<strong>root@node-a8-1:~# screen -ls</strong>
There is a screen on:
 2026.&lt;exp_id&gt;-&lt;login&gt; (Detached)
1 Socket in /tmp/screens/S-root.

<strong>root@node-a8-1:~# screen -r</strong>
Test iotlab-ssh run-script
Test iotlab-ssh run-script
...</pre>
<p><strong>Note:</strong> Use &#8220;<strong>Ctrl+a d</strong>&#8221; shortcut to detach screen session after &#8220;<strong>screen -r</strong>&#8221; command</li>
</ol>
<p>&nbsp;</p>
</div>	</div><!-- .entry-content -->
	
</article><!-- #post-6780 -->


			
		</main><!-- #main -->
		
	</div><!-- #primary -->

	</div><!-- #content -->
	
</div><!-- #page -->

<footer class="site-footer" id="colophon" role="contentinfo">
	
	<div class="container">
		<div class="row">

			<div class="bottom-navigation col-sm-6 col-sm-push-6">
							</div><!-- .bottom-navigation -->
                </div><!-- .row -->

		<div class="row">
			<div class="footer-text col-sm-9">
				<a href="../../what-is-iot-lab/index.html">WHAT IS IOT-LAB?</a> <a href="../../about-us/index.html">ABOUT US</a> <a href="mailto:admin@iot-lab.info">CONTACT US</a> <a href="https://github.com/iot-lab/iot-lab/issues" target="_blank">SUPPORT</a> -<a href="https://github.com/iot-lab">GitHub</a>/<a href="https://twitter.com/FIT_IoTLAB">Twitter</a>/<a href="https://www.youtube.com/channel/UCrWBoYgLJCkMWgaJF8Hh3Og">Youtube</a>-   Copyright © FIT IoT-LAB			</div><!-- .footer-text -->
			<div class="col-sm-3">
				<a href="http://fit-equipex.fr/"><img class="fit-logo center-block" src="../../wp-content/themes/alienship-1.2.5-child/templates/parts/fit-white.svg"></a>
			</div>

		</div><!-- .row -->
	</div><!-- .container -->

	</footer><!-- #colophon -->
      <script type="text/javascript">
		
          var pfHeaderImgUrl = '';
          var pfHeaderTagline = '';
          var pfdisableClickToDel = '0';
          var pfHideImages = '0';
          var pfImageDisplayStyle = 'right';
          var pfDisableEmail = '0';
          var pfDisablePDF = '0';
          var pfDisablePrint = '0';
          var pfCustomCSS = '';
		  (function() {
            var e = document.createElement('script'); e.type="text/javascript";
		    if('https:' == document.location.protocol) {
			  js='https://pf-cdn.printfriendly.com/ssl/main.js';
		    }
		    else{
			  js='http://cdn.printfriendly.com/printfriendly.js';
		    }
            e.src = js;
            document.getElementsByTagName('head')[0].appendChild(e);
	  	  })();
      </script>
<script type='text/javascript'>
/* <![CDATA[ */
var tocplus = {"smooth_scroll":"1","visibility_show":"show","visibility_hide":"hide","width":"Auto"};
/* ]]> */
</script>
<script type='text/javascript' src='../../wp-content/plugins/table-of-contents-plus/front6149.js?ver=1404'></script>
<script type='text/javascript' src='../../wp-content/themes/alienship-1.2.5/js/bootstrap.minb12b.js?ver=3.1.1'></script>
<script type='text/javascript' src='../../wp-content/themes/alienship-1.2.5/js/alienship-helper8a54.js?ver=1.0.0'></script>

</body>

<!-- Mirrored from www.iot-lab.info/tutorials/ssh-clitools-client/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Jun 2020 08:21:34 GMT -->
</html>