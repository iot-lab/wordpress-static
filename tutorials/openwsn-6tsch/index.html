
<!DOCTYPE html>
<html lang="en-US">

<!-- Mirrored from www.iot-lab.info/tutorials/openwsn-6tsch/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Jun 2020 08:21:32 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<!-- [if IE]> <meta http-equiv="X-UA-Compatible" content="IE=Edge"/> <! [endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="pingback" href="../../xmlrpc.php" />
<title>Running IPv6/TSCH/RPL network with A8-M3 nodes &#8226; FIT/IoT-LAB</title>
<!--[if lt IE 9]><script src="https://www.iot-lab.info/wp-content/themes/alienship-1.2.5/js/html5shiv.js" type="text/javascript"></script><![endif]-->

<link rel="alternate" type="application/rss+xml" title="FIT/IoT-LAB &raquo; Feed" href="../../feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="FIT/IoT-LAB &raquo; Comments Feed" href="../../comments/feed/index.html" />
<link rel='stylesheet' id='responsive-lightbox-swipebox-front-css'  href='../../wp-content/plugins/responsive-lightbox/assets/swipebox/source/swipebox2f54.css?ver=4.1' type='text/css' media='all' />
<link rel='stylesheet' id='toc-screen-css'  href='../../wp-content/plugins/table-of-contents-plus/screen6149.css?ver=1404' type='text/css' media='all' />
<link rel='stylesheet' id='parent-style-css'  href='../../wp-content/themes/alienship-1.2.5/style2f54.css?ver=4.1' type='text/css' media='all' />
<link rel='stylesheet' id='bootstrap-css'  href='../../wp-content/themes/alienship-1.2.5/css/bootstrap.minb3e8.css?ver=0.1' type='text/css' media='all' />
<link rel='stylesheet' id='alienship-style-css'  href='../../wp-content/themes/alienship-1.2.5-child/styleb3e8.css?ver=0.1' type='text/css' media='all' />
<script type='text/javascript' src='../../wp-includes/js/jquery/jquery90f9.js?ver=1.11.1'></script>
<script type='text/javascript' src='../../wp-includes/js/jquery/jquery-migrate.min1576.js?ver=1.2.1'></script>
<script type='text/javascript' src='../../wp-content/plugins/responsive-lightbox/assets/swipebox/source/jquery.swipebox.min2f54.js?ver=4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var rlArgs = {"script":"swipebox","selector":"lightbox","custom_events":"","activeGalleries":"1","animation":"1","hideBars":"1","hideBarsDelay":"5000","videoMaxWidth":"1080"};
/* ]]> */
</script>
<script type='text/javascript' src='../../wp-content/plugins/responsive-lightbox/js/front2f54.js?ver=4.1'></script>
<script type='text/javascript' src='../../wp-content/themes/alienship-1.2.5-child/js/bootstrap-hover-dropdown.min2f54.js?ver=4.1'></script>
<link rel='canonical' href='index.html' />
        <style type="text/css" media="screen">
          div.printfriendly {
            margin: 12px 12px 12px 12px;;
          }
          div.printfriendly a, div.printfriendly a:link, div.printfriendly a:visited {
            text-decoration: none;
            font-size: 14px;
            color: #6D9F00;
            vertical-align: bottom;
            border: none;
          }

          .printfriendly a:hover {
            cursor: pointer;
          }

          .printfriendly a img  {
            border: none;
            padding:0;
            margin-right: 6px;
            display:inline-block;
            box-shadow: none;
            -webkit-box-shadow: none;
            -moz-box-shadow: none;
          }
          .printfriendly a span{
            vertical-align: bottom;
          }
          .pf-alignleft {
            float: left;
          }
          .pf-alignright {
            float: right;
          }
          div.pf-aligncenter {
            display: block;
            margin-left: auto;
            margin-right: auto;
            text-align: center;
          }
        </style>
        <style type="text/css" media="print">
          .printfriendly {
            display: none;
          }
        </style>
 	<style type="text/css">
 				#site-title,
		#site-description {
			position: absolute;
			clip: rect(1px 1px 1px 1px); /* IE6, IE7 */
			clip: rect(1px, 1px, 1px, 1px);
		}
 		 	</style>
 	
<!-- BEGIN GADWP v5.3.1.1 Universal Analytics - https://deconf.com/google-analytics-dashboard-wordpress/ -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-115966924-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- END GADWP Universal Analytics -->
</head>

<body class="page page-id-5208 page-child parent-pageid-7210 page-template-default layout-1c">
	<!--[if lt IE 9]><p class="browsehappy alert alert-danger">You are using an outdated browser. Please <a class="alert-link" href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p><![endif]-->

	<!-- Top Menu -->
	<nav class="navbar navbar-default navbar-onelab navbar-fixed-top top-navigation" role="navigation">
	    <div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
							<a href="../../index.html"><img src="../../wp-content/themes/alienship-1.2.5-child/templates/parts/fit-iotlab3.png" /></a>
					</div>

		<div class="collapse navbar-collapse navbar-ex1-collapse">
			<ul id="menu-topmainmenu" class="nav navbar-nav"><li id="menu-item-2066" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2066"><a title="News" href="../../news/index.html">News</a></li>
<li id="menu-item-140" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-140 dropdown"><a title="Platform" data-toggle="dropdown" data-hover="dropdown" href="../../what-is-iot-lab/index.html">Platform <span class="caret"></span></a>
<ul role="menu" class=" dropdown-menu">
	<li id="menu-item-466" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-466"><a title="What is IoT-LAB?" href="../../what-is-iot-lab/index.html">What is IoT-LAB?</a></li>
	<li id="menu-item-147" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-147"><a title="Deployment" href="../../deployment/index.html">Deployment</a></li>
	<li id="menu-item-146" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-146"><a title="Hardware" href="../../hardware/index.html">Hardware</a></li>
	<li id="menu-item-4608" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4608"><a title="Robots" href="../../robots/index.html">Robots</a></li>
	<li id="menu-item-2400" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2400"><a title="About us" href="../../about-us/index.html">About us</a></li>
</ul>
</li>
<li id="menu-item-1467" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-1467 dropdown"><a title="Dev Center" data-toggle="dropdown" data-hover="dropdown" href="../../dev-center/index.html">Dev Center <span class="caret"></span></a>
<ul role="menu" class=" dropdown-menu">
	<li id="menu-item-1957" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1957"><a title="Software Development" href="../../dev-center/index.html">Software Development</a></li>
	<li id="menu-item-7329" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor menu-item-7329"><a title="Tutorials" href="../index.html">Tutorials</a></li>
	<li id="menu-item-1552" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1552"><a title="Operating Systems" href="../../operating-systems/index.html">Operating Systems</a></li>
	<li id="menu-item-1396" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1396"><a title="Libraries" href="../../libraries/index.html">Libraries</a></li>
	<li id="menu-item-1394" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1394"><a title="Drivers" href="../../drivers/index.html">Drivers</a></li>
	<li id="menu-item-7372" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7372"><a title="REST API documentation" href="http://api.iot-lab.info/">REST API documentation</a></li>
</ul>
</li>
<li id="menu-item-3209" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-3209 dropdown"><a title="Community" data-toggle="dropdown" data-hover="dropdown" href="../../community/index.html">Community <span class="caret"></span></a>
<ul role="menu" class=" dropdown-menu">
	<li id="menu-item-3244" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3244"><a title="Share your experience" href="../../community/index.html">Share your experience</a></li>
	<li id="menu-item-3210" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3210"><a title="Education" href="../../education/index.html">Education</a></li>
	<li id="menu-item-2133" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2133"><a title="Publications" href="../../publications/index.html">Publications</a></li>
	<li id="menu-item-2405" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2405"><a title="Charter" href="../../charter/index.html">Charter</a></li>
</ul>
</li>
<li id="menu-item-1470" class="get_started menu-item menu-item-type-post_type menu-item-object-page menu-item-1470"><a title="Get Started" href="../../get_started/index.html">Get Started</a></li>
</ul>

			<ul class="nav navbar-nav navbar-right">

				<li class="dropdown">
					<a href="../../testbed/drawgantt.html" title="Testbed activity"><span class="glyphicon glyphicon-calendar"></span> Activity</a>
				</li>



			                        	<li><span><a href="../../testbed/index.html" class="btn btn-primary testbed" title="Login">Access the testbed</a></span></li>
			                        </ul>
		</div>
	    </div>
	</nav>
<!-- End Top Menu -->


	<div id="page" class="container hfeed site">

				<header id="masthead" class="site-header" role="banner">
			<p id="site-title" class="site-title"><a href="../../index.html" title="FIT/IoT-LAB" rel="home">FIT/IoT-LAB</a></p><p id="site-description" class="site-description">Very large scale open wireless sensor network testbed</p>		</header><!-- #masthead -->
			<div id="content" class="site-content row">

	
	<div id="primary" class="content-area col-sm-8">

				<main id="main" class="site-main" role="main">

			<article role="article" id="post-5208" class="post-5208 page type-page status-publish hentry">
		<div class="entry-content">
		<div class="pf-content"><h2>Running IPv6/TSCH/RPL network with A8-M3 nodes</h2>
<p>&nbsp;</p>
<p><img class="alignnone size-full wp-image-1252" src="../../wp-content/uploads/2014/02/difficulty.jpg" alt="" width="30" height="30" /> <strong>Difficulty</strong>: High</p>
<p><img class="size-full wp-image-1253 alignnone" src="../../wp-content/uploads/2014/02/duration.jpg" alt="" width="30" height="30" /> <strong>Duration</strong>: 45 minutes</p>
<p><em><strong>Prerequisites</strong>: <a href="../ssh-access/index.html" target="_blank">Configure SSH Access</a> / </em><a title="openwsn-compilation" href="../openwsn-compilation/index.html">Get and compile firmware for M3 and A8-M3 nodes</a> / <a title="Testing Board Support Package with A8-M3 nodes" href="../openwsn-bsp/index.html">Testing Board Support Package with A8-M3 nodes</a></p>
<p><em><strong>Description</strong>: The aim of this tutorial is to discover the setup of OpenWSN mesh network on the Internet with IPv6 over TSCH. You will book some A8 nodes on the Saclay site, set them up with flashing two provided firmwares on the A8-M3 nodes, and create a simple IPv6 network in IoT-LAB.</em></p>
<ol>
<li><a href="../../testbed/index.html" target="_blank">Log into the Web portal</a> with your account credentials</li>
<li>Submit a new experiment:
<ul>
<li>Duration: <strong>60 minutes</strong> and starting &#8220;<strong>As soon as possible</strong>&#8220;</li>
<li>Choose ten nodes:
<ul>
<li>Archi = a8:at86rf231 / Site = saclay / Number = 3 / Mobile = no</li>
<li>Click on &#8220;Add to experiment&#8221;
</ul>
</li>
<li>Click &#8220;Submit experiment&#8221; and get an experiment id</li>
</ul>
<div id="frontend"></div>
</li>
<li>Click on the experiment in the dashboard list, and make a note of the node id, while you wait for the experiment to become running. For this tutorial we assume that you have the following A8 nodes : <strong>a8-7.saclay.iot-lab.info</strong>,<br />
<strong>a8-8.saclay.iot-lab.info, <strong>a8-9.saclay.iot-lab.info</strong></strong><a href="../../wp-content/uploads/2016/01/ipv6-a8.jpg" rel="lightbox[gallery-wAs6]"><br />
</a></li>
<li>Setup OpenWSN environment and compile firmware on SSH frontend. (A8 directory is shared by each A8 nodes experiment with NFS mount during boot)
<pre>my_computer$ ssh &lt;login&gt;@saclay.iot-lab.info
&lt;login&gt;@saclay:~$ <strong>cd A8</strong>
&lt;login&gt;@saclay:~/A8$ <strong>mkdir openwsn</strong>
&lt;login&gt;@saclay:~/A8$ <strong>cd openwsn</strong>
&lt;login&gt;@saclay:~/A8/openwsn$ <strong>git clone https://github.com/openwsn-berkeley/openwsn-fw.git</strong>
&lt;login&gt;@saclay:~/A8/openwsn$ <strong>git clone https://github.com/openwsn-berkeley/openwsn-sw.git</strong>
&lt;login&gt;@saclay:~/A8/openwsn$ <strong>git clone https://github.com/openwsn-berkeley/coap.git</strong>
&lt;login&gt;@saclay:~/A8/openwsn$ <strong>cd openwsn-fw</strong>
&lt;login&gt;@saclay:~/A8/openwsn/openwsn-fw$<strong> <span class="pln">git checkout -b REL-1.10.0</span> REL-1.10.0</strong>
&lt;login&gt;@saclay:~/A8/openwsn/openwsn-fw$ <strong>scons board=iot-lab_A8-M3 toolchain=armgcc oos_openwsn
</strong>&lt;login&gt;@saclay:~/A8/openwsn/openwsn-fw$ <strong>cp build/iot-lab_A8-M3_armgcc/projects/common/03oos_openwsn_prog ~/A8/</strong></pre>
</li>
<li>Choose one A8 node (a8-7 in our example) in your nodes list to implement the A8-M3 dag root node. A8 nodes still needs some time to boot, so be patient and try ssh connexion.
<pre> &lt;login&gt;@saclay:~$ <strong>ssh root@node-a8-7</strong>
 root@node-a8-7:~#</pre>
</li>
<li>Flash firmware on the M3 node
<pre>root@node-a8-7:~# <strong>flash_a8_m3 A8/03oos_openwsn_prog
</strong></pre>
</li>
<li>Launch openvisualizer (command-line mode) and set M3 node as dag root<br />
<strong>NOTE:</strong> <strong>Currently</strong> <strong>you must patch OpenVisualizer code</strong> because of serial port detection. (comment moteProbe.py class line 71 and replace portMask variable)</p>
<pre>root@node-a8-7:~$ <strong>cd ~/A8/openwsn/openwsn-sw/software/openvisualizer</strong>
root@node-a8-7:~/A8/openwsn/openwsn-sw/software/openvisualizer$ <strong><strong><span class="pln">git checkout -b REL-1.10.0</span> REL-1.10.0</strong></strong>
root@node-a8-7:~/A8/openwsn/openwsn-sw/software/openvisualizer$ <strong>vi openvisualizer/moteProbe/moteProbe.py</strong>
....
 elif os.name=='posix':
        if platform.system() == 'Darwin':
            portMask = ['/dev/tty.usbserial-*']
        else:
            <strong>#portMask = ['/dev/ttyUSB*', '/dev/ttyAMA*', '/dev/ttyA8_M3']</strong>
            <strong>portMask = ['/dev/ttyUSB*', '/dev/ttyAMA*']</strong>
        for mask in portMask :
            serialports += [(s,BAUDRATE_GINA) for s in glob.glob(mask)]
....</pre>
<pre>root@node-a8-7:~/A8/openwsn/openwsn-sw/software/openvisualizer# <strong>scons runcli
</strong>scons: Reading SConscript files ...

 ___ _ _ _ ___ _ _ 
| . | ___ ___ ._ _ | | | |/ __&gt;| \ |
| | || . \/ ._&gt;| ' || | | |\__ \| |
`___'| _/\___.|_|_||__/_/ &lt;___/|_\_|
 |_| openwsn.org

scons: done reading SConscript files.
...
created following virtual interface:
7: tun0: &lt;POINTOPOINT,MULTICAST,NOARP,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UNKNOWN group default qlen 500
 link/none 
 inet6 bbbb::1/64 scope global 
 valid_lft forever preferred_lft forever
 inet6 fe80::1/64 scope link 
 valid_lft forever preferred_lft forever
15:23:36 INFO create instance
15:23:36 INFO create instance
15:23:36 INFO create instance

OpenVisualizer (type "help" for commands)
&gt; <strong><code class="bash plain">root /dev/ttyUSB1</code></strong></pre>
</li>
<li>Open a <strong>new terminal</strong> on <strong>a8-8 node</strong>. Flash the firmware on A8-M3 node and launch OpenVisualizer (command-line mode)
<pre>&lt;login&gt;@saclay:~$ <strong>ssh root@node-a8-8
</strong>root@node-a8-8:~# <strong>flash_a8_m3 A8/03oos_openwsn_prog
</strong>root@node-a8-8:~# <strong>cd A8/openwsn/openwsn-sw/software/openvisualizer/
</strong>root@node-a8-7:~/A8/openwsn/openwsn-sw/software/openvisualizer# <strong>scons runcli</strong></pre>
</li>
<li>View and note on the <strong>a8-7 node</strong> OpenVisualizer console the a8-8 EUI64 node identifier
<pre>&gt; root /dev/ttyUSB1

received RPL DAO from <strong>bbbb:0:0:0:543:32ff:03de:b061</strong>
- parents:
 bbbb:0:0:0:543:32ff:03da:a758
- children:</pre>
</li>
<li>Ping the<strong> a8-8 node</strong> from the <strong>a8-7 dagroot node</strong>. OpenVisualizer runs by default a tun interface with an IPv6 private subnet network (bbbb::/64).  An IPv6 node address should be construct like this <strong>bbbb::eui64</strong>
<pre>&lt;login&gt;@saclay:~$ <strong>ssh root@node-a8-7
</strong>root@node-a8-7:~# <strong>ping6 bbbb::543:32ff:3de:b061
</strong>PING bbbb::0543:32ff:03de:b061 (bbbb::543:32ff:3de:b061): 56 data bytes
64 bytes from bbbb::543:32ff:3de:b061: seq=0 ttl=64 time=1119.522 ms
64 bytes from bbbb::543:32ff:3de:b061: seq=1 ttl=64 time=1120.101 ms</pre>
</li>
</ol>
</div>	</div><!-- .entry-content -->
	
</article><!-- #post-5208 -->


			
		</main><!-- #main -->
		
	</div><!-- #primary -->

	</div><!-- #content -->
	
</div><!-- #page -->

<footer class="site-footer" id="colophon" role="contentinfo">
	
	<div class="container">
		<div class="row">

			<div class="bottom-navigation col-sm-6 col-sm-push-6">
							</div><!-- .bottom-navigation -->
                </div><!-- .row -->

		<div class="row">
			<div class="footer-text col-sm-9">
				<a href="../../what-is-iot-lab/index.html">WHAT IS IOT-LAB?</a> <a href="../../about-us/index.html">ABOUT US</a> <a href="mailto:admin@iot-lab.info">CONTACT US</a> <a href="https://github.com/iot-lab/iot-lab/issues" target="_blank">SUPPORT</a> -<a href="https://github.com/iot-lab">GitHub</a>/<a href="https://twitter.com/FIT_IoTLAB">Twitter</a>/<a href="https://www.youtube.com/channel/UCrWBoYgLJCkMWgaJF8Hh3Og">Youtube</a>-   Copyright © FIT IoT-LAB			</div><!-- .footer-text -->
			<div class="col-sm-3">
				<a href="http://fit-equipex.fr/"><img class="fit-logo center-block" src="../../wp-content/themes/alienship-1.2.5-child/templates/parts/fit-white.svg"></a>
			</div>

		</div><!-- .row -->
	</div><!-- .container -->

	</footer><!-- #colophon -->
      <script type="text/javascript">
		
          var pfHeaderImgUrl = '';
          var pfHeaderTagline = '';
          var pfdisableClickToDel = '0';
          var pfHideImages = '0';
          var pfImageDisplayStyle = 'right';
          var pfDisableEmail = '0';
          var pfDisablePDF = '0';
          var pfDisablePrint = '0';
          var pfCustomCSS = '';
		  (function() {
            var e = document.createElement('script'); e.type="text/javascript";
		    if('https:' == document.location.protocol) {
			  js='https://pf-cdn.printfriendly.com/ssl/main.js';
		    }
		    else{
			  js='http://cdn.printfriendly.com/printfriendly.js';
		    }
            e.src = js;
            document.getElementsByTagName('head')[0].appendChild(e);
	  	  })();
      </script>
<script type='text/javascript'>
/* <![CDATA[ */
var tocplus = {"smooth_scroll":"1","visibility_show":"show","visibility_hide":"hide","width":"Auto"};
/* ]]> */
</script>
<script type='text/javascript' src='../../wp-content/plugins/table-of-contents-plus/front6149.js?ver=1404'></script>
<script type='text/javascript' src='../../wp-content/themes/alienship-1.2.5/js/bootstrap.minb12b.js?ver=3.1.1'></script>
<script type='text/javascript' src='../../wp-content/themes/alienship-1.2.5/js/alienship-helper8a54.js?ver=1.0.0'></script>

</body>

<!-- Mirrored from www.iot-lab.info/tutorials/openwsn-6tsch/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Jun 2020 08:21:33 GMT -->
</html>